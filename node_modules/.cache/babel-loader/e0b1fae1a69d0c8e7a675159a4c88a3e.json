{"ast":null,"code":"var _jsxFileName = \"/home/lucy/Desktop/Quiz-App/src/components/StartQuiz.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useHistory, useParams } from 'react-router';\nimport { GetQuizByID } from '../api';\nimport QuizContext from '../Context';\nimport '../App.css';\nfunction StartQuiz() {\n  const params = useParams();\n  const quizID = +params.id;\n  const history = useHistory();\n  const {\n    score,\n    setScore\n  } = useContext(QuizContext);\n  const [topicData, setTopicData] = useState({});\n  const [currentQuestion, setcurrentQuestion] = useState(0);\n  const [optionChosen, setOptionChosen] = useState('');\n  const [question, setQuestion] = useState('');\n  const [totalQuestions, setTotalQuestions] = useState(0);\n  const [option1, setOption1] = useState('');\n  const [option2, setOption2] = useState('');\n  const [option3, setOption3] = useState('');\n  const [option4, setOption4] = useState('');\n  const [timer, setTimer] = useState(60);\n  const [isOptionClicked, setIsOptionClicked] = useState(false);\n  async function getQuizData() {\n    let response = await GetQuizByID(quizID);\n    setTopicData(response.data);\n    setQuestion(response.data.questions[currentQuestion].question);\n    setTotalQuestions(response.data.questions.length);\n    setOption1(response.data.questions[currentQuestion].option1);\n    setOption2(response.data.questions[currentQuestion].option2);\n    setOption3(response.data.questions[currentQuestion].option3);\n    setOption4(response.data.questions[currentQuestion].option4);\n  }\n  useEffect(() => {\n    let isMounted = true;\n    if (isMounted) getQuizData();\n    return () => {\n      isMounted = false;\n    };\n  }, [currentQuestion]);\n  useEffect(() => {\n    if (timer > 0) {\n      setTimeout(() => {\n        setTimer(timer - 1);\n      }, 1000);\n    } else {\n      clearTimeout();\n      history.push('/result');\n    }\n  }, [quizID, timer]);\n  const handleNextQuestion = () => {\n    if (topicData.questions[currentQuestion].answer === optionChosen) {\n      setScore(score + 1);\n    } else {\n      setScore(score - 1);\n    }\n    setcurrentQuestion(currentQuestion + 1);\n    setIsOptionClicked(false);\n  };\n  const handleFinish = () => {\n    if (topicData.questions[currentQuestion].answer === optionChosen) {\n      setScore(score + 1);\n    } else {\n      setScore(score - 1);\n    }\n    history.push('/result');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"startquiz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"startquiz_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"Time left : \", timer), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, question), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setOptionChosen('1');\n      setIsOptionClicked(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, option1), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setOptionChosen('2');\n      setIsOptionClicked(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, option2), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setOptionChosen('3');\n      setIsOptionClicked(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, option3), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setOptionChosen('4');\n      setIsOptionClicked(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, option4)), isOptionClicked ? /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \"Your selected option is \", optionChosen) : /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Choose an option\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"decidebuttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, currentQuestion === totalQuestions - 1 ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, \"Finish Quiz\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleNextQuestion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, \"Next Question\"))));\n}\nexport default StartQuiz;","map":{"version":3,"names":["React","useState","useEffect","useContext","useHistory","useParams","GetQuizByID","QuizContext","StartQuiz","params","quizID","id","history","score","setScore","topicData","setTopicData","currentQuestion","setcurrentQuestion","optionChosen","setOptionChosen","question","setQuestion","totalQuestions","setTotalQuestions","option1","setOption1","option2","setOption2","option3","setOption3","option4","setOption4","timer","setTimer","isOptionClicked","setIsOptionClicked","getQuizData","response","data","questions","length","isMounted","setTimeout","clearTimeout","push","handleNextQuestion","answer","handleFinish","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/home/lucy/Desktop/Quiz-App/src/components/StartQuiz.js"],"sourcesContent":["import React, { useState, useEffect, useContext} from 'react'\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { GetQuizByID } from '../api';\r\nimport QuizContext from '../Context';\r\nimport '../App.css';\r\n\r\nfunction StartQuiz() {\r\n\r\n    const params = useParams();\r\n    const quizID = +params.id;\r\n    const history = useHistory();\r\n\r\n    const { score, setScore } = useContext(QuizContext);\r\n    const [topicData, setTopicData] = useState({});\r\n    const [currentQuestion, setcurrentQuestion] = useState(0);\r\n    const [optionChosen, setOptionChosen] = useState('')\r\n    const [question, setQuestion] = useState('');\r\n    const [totalQuestions, setTotalQuestions] = useState(0);\r\n    const [option1, setOption1 ] = useState('');\r\n    const [option2, setOption2 ] = useState('');\r\n    const [option3, setOption3 ] = useState('');\r\n    const [option4, setOption4 ] = useState('');\r\n    const [timer, setTimer] = useState(60);\r\n    const [isOptionClicked, setIsOptionClicked] = useState(false);\r\n\r\n    async function getQuizData(){\r\n        let response = await GetQuizByID(quizID);\r\n        setTopicData(response.data);\r\n        setQuestion(response.data.questions[currentQuestion].question)\r\n        setTotalQuestions(response.data.questions.length)\r\n        setOption1(response.data.questions[currentQuestion].option1)\r\n        setOption2(response.data.questions[currentQuestion].option2)\r\n        setOption3(response.data.questions[currentQuestion].option3)\r\n        setOption4(response.data.questions[currentQuestion].option4) \r\n    }\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        if(isMounted) getQuizData();\r\n        return(() => {isMounted = false});\r\n    }, [currentQuestion])\r\n\r\n    \r\n    useEffect(() => {\r\n        if(timer>0){\r\n            setTimeout(() => {\r\n                setTimer(timer-1)\r\n            }, 1000)\r\n        }\r\n        else{\r\n            clearTimeout();\r\n            history.push('/result')\r\n        }\r\n    },[quizID, timer]);\r\n\r\n    const handleNextQuestion = () => {\r\n        if( topicData.questions[currentQuestion].answer === optionChosen ){\r\n            setScore( score + 1 );\r\n        }\r\n        else{\r\n            setScore( score - 1 );\r\n        }\r\n        setcurrentQuestion( currentQuestion + 1 );\r\n        setIsOptionClicked(false);\r\n    }\r\n\r\n    const handleFinish = () => {\r\n        if( topicData.questions[currentQuestion].answer === optionChosen ){\r\n            setScore( score + 1 );\r\n        }\r\n        else{\r\n            setScore( score - 1 );\r\n        }\r\n        history.push('/result');\r\n    }\r\n\r\n    return (\r\n        <div className='startquiz'>\r\n            <div className=\"startquiz_container\">\r\n                <h1>Time left : {timer}</h1>\r\n                <h1>{question}</h1>\r\n                <div className='options'>\r\n                    <button onClick={ () => {setOptionChosen('1'); setIsOptionClicked(true)} }>{option1}</button>\r\n                    <button onClick={ () => {setOptionChosen('2'); setIsOptionClicked(true)} }>{option2}</button>\r\n                    <button onClick={ () => {setOptionChosen('3'); setIsOptionClicked(true)} }>{option3}</button>\r\n                    <button onClick={ () => {setOptionChosen('4'); setIsOptionClicked(true)} }>{option4}</button>\r\n                </div>       \r\n                {\r\n                    isOptionClicked  ? (\r\n                        <h2>Your selected option is {optionChosen}</h2>\r\n                    ) : (\r\n                        <h2>Choose an option</h2>\r\n                    )\r\n                }\r\n                <div className=\"decidebuttons\">\r\n                {\r\n                    currentQuestion === totalQuestions-1 ? (\r\n                        <button onClick={handleFinish}>Finish Quiz</button>\r\n                    ) : (\r\n                        <button onClick={handleNextQuestion}>Next Question</button>\r\n                    )\r\n                }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StartQuiz\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAO,OAAO;AAC7D,SAASC,UAAU,EAAEC,SAAS,QAAQ,cAAc;AACpD,SAASC,WAAW,QAAQ,QAAQ;AACpC,OAAOC,WAAW,MAAM,YAAY;AACpC,OAAO,YAAY;AAEnB,SAASC,SAASA,CAAA,EAAG;EAEjB,MAAMC,MAAM,GAAGJ,SAAS,EAAE;EAC1B,MAAMK,MAAM,GAAG,CAACD,MAAM,CAACE,EAAE;EACzB,MAAMC,OAAO,GAAGR,UAAU,EAAE;EAE5B,MAAM;IAAES,KAAK;IAAEC;EAAS,CAAC,GAAGX,UAAU,CAACI,WAAW,CAAC;EACnD,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACgB,eAAe,EAAEC,kBAAkB,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsB,cAAc,EAAEC,iBAAiB,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAE,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC3C,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAE,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC3C,MAAM,CAAC4B,OAAO,EAAEC,UAAU,CAAE,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC3C,MAAM,CAAC8B,OAAO,EAAEC,UAAU,CAAE,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAC3C,MAAM,CAACgC,KAAK,EAAEC,QAAQ,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkC,eAAe,EAAEC,kBAAkB,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EAE7D,eAAeoC,WAAWA,CAAA,EAAE;IACxB,IAAIC,QAAQ,GAAG,MAAMhC,WAAW,CAACI,MAAM,CAAC;IACxCM,YAAY,CAACsB,QAAQ,CAACC,IAAI,CAAC;IAC3BjB,WAAW,CAACgB,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACvB,eAAe,CAAC,CAACI,QAAQ,CAAC;IAC9DG,iBAAiB,CAACc,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,MAAM,CAAC;IACjDf,UAAU,CAACY,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACvB,eAAe,CAAC,CAACQ,OAAO,CAAC;IAC5DG,UAAU,CAACU,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACvB,eAAe,CAAC,CAACU,OAAO,CAAC;IAC5DG,UAAU,CAACQ,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACvB,eAAe,CAAC,CAACY,OAAO,CAAC;IAC5DG,UAAU,CAACM,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACvB,eAAe,CAAC,CAACc,OAAO,CAAC;EAChE;EAEA7B,SAAS,CAAC,MAAM;IACZ,IAAIwC,SAAS,GAAG,IAAI;IACpB,IAAGA,SAAS,EAAEL,WAAW,EAAE;IAC3B,OAAO,MAAM;MAACK,SAAS,GAAG,KAAK;IAAA,CAAC;EACpC,CAAC,EAAE,CAACzB,eAAe,CAAC,CAAC;EAGrBf,SAAS,CAAC,MAAM;IACZ,IAAG+B,KAAK,GAAC,CAAC,EAAC;MACPU,UAAU,CAAC,MAAM;QACbT,QAAQ,CAACD,KAAK,GAAC,CAAC,CAAC;MACrB,CAAC,EAAE,IAAI,CAAC;IACZ,CAAC,MACG;MACAW,YAAY,EAAE;MACdhC,OAAO,CAACiC,IAAI,CAAC,SAAS,CAAC;IAC3B;EACJ,CAAC,EAAC,CAACnC,MAAM,EAAEuB,KAAK,CAAC,CAAC;EAElB,MAAMa,kBAAkB,GAAGA,CAAA,KAAM;IAC7B,IAAI/B,SAAS,CAACyB,SAAS,CAACvB,eAAe,CAAC,CAAC8B,MAAM,KAAK5B,YAAY,EAAE;MAC9DL,QAAQ,CAAED,KAAK,GAAG,CAAC,CAAE;IACzB,CAAC,MACG;MACAC,QAAQ,CAAED,KAAK,GAAG,CAAC,CAAE;IACzB;IACAK,kBAAkB,CAAED,eAAe,GAAG,CAAC,CAAE;IACzCmB,kBAAkB,CAAC,KAAK,CAAC;EAC7B,CAAC;EAED,MAAMY,YAAY,GAAGA,CAAA,KAAM;IACvB,IAAIjC,SAAS,CAACyB,SAAS,CAACvB,eAAe,CAAC,CAAC8B,MAAM,KAAK5B,YAAY,EAAE;MAC9DL,QAAQ,CAAED,KAAK,GAAG,CAAC,CAAE;IACzB,CAAC,MACG;MACAC,QAAQ,CAAED,KAAK,GAAG,CAAC,CAAE;IACzB;IACAD,OAAO,CAACiC,IAAI,CAAC,SAAS,CAAC;EAC3B,CAAC;EAED,oBACI7C,KAAA,CAAAiD,aAAA;IAAKC,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtBxD,KAAA,CAAAiD,aAAA;IAAKC,SAAS,EAAC,qBAAqB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChCxD,KAAA,CAAAiD,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,cAAY,EAACvB,KAAK,CAAM,eAC5BjC,KAAA,CAAAiD,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKnC,QAAQ,CAAM,eACnBrB,KAAA,CAAAiD,aAAA;IAAKC,SAAS,EAAC,SAAS;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpBxD,KAAA,CAAAiD,aAAA;IAAQQ,OAAO,EAAGA,CAAA,KAAM;MAACrC,eAAe,CAAC,GAAG,CAAC;MAAEgB,kBAAkB,CAAC,IAAI,CAAC;IAAA,CAAG;IAAAe,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE/B,OAAO,CAAU,eAC7FzB,KAAA,CAAAiD,aAAA;IAAQQ,OAAO,EAAGA,CAAA,KAAM;MAACrC,eAAe,CAAC,GAAG,CAAC;MAAEgB,kBAAkB,CAAC,IAAI,CAAC;IAAA,CAAG;IAAAe,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE7B,OAAO,CAAU,eAC7F3B,KAAA,CAAAiD,aAAA;IAAQQ,OAAO,EAAGA,CAAA,KAAM;MAACrC,eAAe,CAAC,GAAG,CAAC;MAAEgB,kBAAkB,CAAC,IAAI,CAAC;IAAA,CAAG;IAAAe,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE3B,OAAO,CAAU,eAC7F7B,KAAA,CAAAiD,aAAA;IAAQQ,OAAO,EAAGA,CAAA,KAAM;MAACrC,eAAe,CAAC,GAAG,CAAC;MAAEgB,kBAAkB,CAAC,IAAI,CAAC;IAAA,CAAG;IAAAe,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEzB,OAAO,CAAU,CAC3F,EAEFI,eAAe,gBACXnC,KAAA,CAAAiD,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,0BAAwB,EAACrC,YAAY,CAAM,gBAE/CnB,KAAA,CAAAiD,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,kBAAgB,CACvB,eAELxD,KAAA,CAAAiD,aAAA;IAAKC,SAAS,EAAC,eAAe;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAE1BvC,eAAe,KAAKM,cAAc,GAAC,CAAC,gBAChCvB,KAAA,CAAAiD,aAAA;IAAQQ,OAAO,EAAET,YAAa;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,aAAW,CAAS,gBAEnDxD,KAAA,CAAAiD,aAAA;IAAQQ,OAAO,EAAEX,kBAAmB;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,eAAa,CACrD,CAEC,CACJ,CACJ;AAEd;AAEA,eAAehD,SAAS"},"metadata":{},"sourceType":"module"}